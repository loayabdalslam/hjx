import{_ as e,o as t,c as n,ag as s}from"./chunks/framework.ePeAWSvT.js";const u=JSON.parse('{"title":"Language Specification v0.1","description":"","frontmatter":{},"headers":[],"relativePath":"reference/spec.md","filePath":"reference/spec.md","lastUpdated":1771639360000}'),o={name:"reference/spec.md"};function i(l,a,p,c,d,r){return t(),n("div",null,[...a[0]||(a[0]=[s(`<h1 id="language-specification-v0-1" tabindex="-1">Language Specification v0.1 <a class="header-anchor" href="#language-specification-v0-1" aria-label="Permalink to &quot;Language Specification v0.1&quot;">​</a></h1><h2 id="file-structure" tabindex="-1">File Structure <a class="header-anchor" href="#file-structure" aria-label="Permalink to &quot;File Structure&quot;">​</a></h2><p>A <code>.hjx</code> file contains blocks in this order (order is flexible but recommended):</p><ol><li><code>component &lt;Name&gt;</code></li><li><code>state:</code></li><li><code>layout:</code></li><li><code>style:</code></li><li><code>handlers:</code></li></ol><p>Blocks are indentation-sensitive (2 spaces recommended).</p><h2 id="component-declaration" tabindex="-1">Component Declaration <a class="header-anchor" href="#component-declaration" aria-label="Permalink to &quot;Component Declaration&quot;">​</a></h2><h3 id="syntax" tabindex="-1">Syntax <a class="header-anchor" href="#syntax" aria-label="Permalink to &quot;Syntax&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>component &lt;Identifier&gt;</span></span></code></pre></div><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h3><div class="language-hjx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hjx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>component Counter</span></span></code></pre></div><h2 id="state-block" tabindex="-1">State Block <a class="header-anchor" href="#state-block" aria-label="Permalink to &quot;State Block&quot;">​</a></h2><p>Defines reactive variables (component-local).</p><h3 id="syntax-1" tabindex="-1">Syntax <a class="header-anchor" href="#syntax-1" aria-label="Permalink to &quot;Syntax&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>state:</span></span>
<span class="line"><span>  name = value</span></span>
<span class="line"><span>  title = &quot;Hello&quot;</span></span>
<span class="line"><span>  enabled = true</span></span></code></pre></div><h3 id="supported-types" tabindex="-1">Supported Types <a class="header-anchor" href="#supported-types" aria-label="Permalink to &quot;Supported Types&quot;">​</a></h3><ul><li><code>number</code>: <code>42</code>, <code>3.14</code></li><li><code>string</code>: <code>&quot;hello&quot;</code>, <code>&#39;world&#39;</code></li><li><code>boolean</code>: <code>true</code>, <code>false</code></li><li><code>array</code>: <code>[&quot;item1&quot;, &quot;item2&quot;]</code></li><li><code>object</code>: <code>{ name: &quot;John&quot;, age: 30 }</code></li></ul><h2 id="imports-block" tabindex="-1">Imports Block <a class="header-anchor" href="#imports-block" aria-label="Permalink to &quot;Imports Block&quot;">​</a></h2><p>Import and compose other <code>.hjx</code> components:</p><h3 id="syntax-2" tabindex="-1">Syntax <a class="header-anchor" href="#syntax-2" aria-label="Permalink to &quot;Syntax&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>imports:</span></span>
<span class="line"><span>  Button from &quot;./components/Button.hjx&quot;</span></span>
<span class="line"><span>  Card from &quot;./components/Card.hjx&quot;</span></span></code></pre></div><p>Use imported components in layout with <strong>props</strong> and <strong>slots</strong>:</p><div class="language-hjx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hjx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>layout:</span></span>
<span class="line"><span>  Card (title=&quot;My Card&quot;):</span></span>
<span class="line"><span>    text: &quot;This is slot content&quot;</span></span>
<span class="line"><span>    Button (variant=&quot;primary&quot; on click -&gt; save): &quot;Save&quot;</span></span></code></pre></div><h2 id="layout-block" tabindex="-1">Layout Block <a class="header-anchor" href="#layout-block" aria-label="Permalink to &quot;Layout Block&quot;">​</a></h2><p>Defines a tree of DOM nodes.</p><h3 id="supported-node-types" tabindex="-1">Supported Node Types <a class="header-anchor" href="#supported-node-types" aria-label="Permalink to &quot;Supported Node Types&quot;">​</a></h3><ul><li><code>view</code>: Generic container element</li><li><code>text</code>: Text content</li><li><code>button</code>: Interactive button</li><li><code>input</code>: Form input field</li></ul><h3 id="node-syntax" tabindex="-1">Node Syntax <a class="header-anchor" href="#node-syntax" aria-label="Permalink to &quot;Node Syntax&quot;">​</a></h3><h4 id="container-node-with-children" tabindex="-1">Container Node (with children) <a class="header-anchor" href="#container-node-with-children" aria-label="Permalink to &quot;Container Node (with children)&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>view#id.class1.class2 (attrs):</span></span>
<span class="line"><span>  child nodes...</span></span></code></pre></div><h4 id="leaf-node-with-text" tabindex="-1">Leaf Node with Text <a class="header-anchor" href="#leaf-node-with-text" aria-label="Permalink to &quot;Leaf Node with Text&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>text: &quot;Hello {{variable}}&quot;</span></span></code></pre></div><h4 id="button-with-event" tabindex="-1">Button with Event <a class="header-anchor" href="#button-with-event" aria-label="Permalink to &quot;Button with Event&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>button.primary (on click -&gt; handler): &quot;Click me&quot;</span></span></code></pre></div><h4 id="input-with-binding" tabindex="-1">Input with Binding <a class="header-anchor" href="#input-with-binding" aria-label="Permalink to &quot;Input with Binding&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>input (bind value &lt;-&gt; stateVar)</span></span></code></pre></div><h3 id="control-flow" tabindex="-1">Control Flow <a class="header-anchor" href="#control-flow" aria-label="Permalink to &quot;Control Flow&quot;">​</a></h3><h4 id="conditional-rendering" tabindex="-1">Conditional Rendering <a class="header-anchor" href="#conditional-rendering" aria-label="Permalink to &quot;Conditional Rendering&quot;">​</a></h4><div class="language-hjx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hjx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>layout:</span></span>
<span class="line"><span>  if (isLoggedIn):</span></span>
<span class="line"><span>    text: &quot;Welcome back!&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if (!isLoggedIn):</span></span>
<span class="line"><span>    text: &quot;Please log in.&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if (status === &quot;active&quot;):</span></span>
<span class="line"><span>    text: &quot;Account is active&quot;</span></span></code></pre></div><p><strong>Supported condition operators:</strong> <code>!</code> (negation), <code>===</code> (equality), <code>==</code> (equality), <code>!=</code> (inequality)</p><h4 id="loop-rendering" tabindex="-1">Loop Rendering <a class="header-anchor" href="#loop-rendering" aria-label="Permalink to &quot;Loop Rendering&quot;">​</a></h4><div class="language-hjx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hjx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>layout:</span></span>
<span class="line"><span>  for (item in items):</span></span>
<span class="line"><span>    view.row:</span></span>
<span class="line"><span>      text: &quot;{{item}}&quot;</span></span></code></pre></div><p>The loop variable (<code>item</code>) is available for interpolation within the loop body.</p><h3 id="attributes-and-modifiers" tabindex="-1">Attributes and Modifiers <a class="header-anchor" href="#attributes-and-modifiers" aria-label="Permalink to &quot;Attributes and Modifiers&quot;">​</a></h3><ul><li><strong>ID</strong>: <code>#myId</code></li><li><strong>Classes</strong>: <code>.class1.class2</code></li><li><strong>Events</strong>: <code>(on click -&gt; handlerName)</code></li><li><strong>Bindings</strong>: <code>(bind value &lt;-&gt; stateVar)</code></li><li><strong>Custom Attributes</strong>: <code>(attr=&quot;value&quot;)</code></li></ul><h2 id="style-block" tabindex="-1">Style Block <a class="header-anchor" href="#style-block" aria-label="Permalink to &quot;Style Block&quot;">​</a></h2><p>Raw CSS rules. The compiler automatically scopes them by prefixing selectors with a component-specific attribute.</p><h3 id="syntax-3" tabindex="-1">Syntax <a class="header-anchor" href="#syntax-3" aria-label="Permalink to &quot;Syntax&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>style:</span></span>
<span class="line"><span>  .card { padding: 16px; border: 1px solid #ddd; }</span></span>
<span class="line"><span>  .button { cursor: pointer; }</span></span></code></pre></div><h2 id="handlers-block" tabindex="-1">Handlers Block <a class="header-anchor" href="#handlers-block" aria-label="Permalink to &quot;Handlers Block&quot;">​</a></h2><p>Defines event handler functions using a simple statement language.</p><h3 id="syntax-4" tabindex="-1">Syntax <a class="header-anchor" href="#syntax-4" aria-label="Permalink to &quot;Syntax&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>handlers:</span></span>
<span class="line"><span>  handlerName:</span></span>
<span class="line"><span>    statement1</span></span>
<span class="line"><span>    statement2</span></span></code></pre></div><h3 id="supported-statements" tabindex="-1">Supported Statements <a class="header-anchor" href="#supported-statements" aria-label="Permalink to &quot;Supported Statements&quot;">​</a></h3><h4 id="variable-assignment" tabindex="-1">Variable Assignment <a class="header-anchor" href="#variable-assignment" aria-label="Permalink to &quot;Variable Assignment&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>set variable = expression</span></span></code></pre></div><h4 id="debug-logging" tabindex="-1">Debug Logging <a class="header-anchor" href="#debug-logging" aria-label="Permalink to &quot;Debug Logging&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>log &quot;message&quot;</span></span></code></pre></div><h3 id="expressions" tabindex="-1">Expressions <a class="header-anchor" href="#expressions" aria-label="Permalink to &quot;Expressions&quot;">​</a></h3><ul><li>Numbers: <code>42</code>, <code>3.14</code></li><li>Identifiers: <code>count</code>, <code>name</code></li><li>Parentheses: <code>(a + b)</code></li><li>Binary operations: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code></li><li>Array spread: <code>[...items, newItem]</code></li></ul><h2 id="script-block-optional" tabindex="-1">Script Block (Optional) <a class="header-anchor" href="#script-block-optional" aria-label="Permalink to &quot;Script Block (Optional)&quot;">​</a></h2><p>Server-side initialization code. The <code>init(store)</code> function receives a reactive store for background state updates:</p><div class="language-hjx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hjx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>script:</span></span>
<span class="line"><span>  export function init(store) {</span></span>
<span class="line"><span>    setInterval(() =&gt; {</span></span>
<span class="line"><span>      store.set({ timestamp: Date.now() });</span></span>
<span class="line"><span>    }, 1000);</span></span>
<span class="line"><span>  }</span></span></code></pre></div><p>The store provides:</p><ul><li><code>store.get(key?)</code> — get current state (or specific key)</li><li><code>store.set(patch)</code> — update state and push changes to clients</li></ul><h2 id="compilation-output" tabindex="-1">Compilation Output <a class="header-anchor" href="#compilation-output" aria-label="Permalink to &quot;Compilation Output&quot;">​</a></h2><p>The vanilla compiler generates three files:</p><ul><li><strong><code>index.html</code></strong>: Minimal HTML page with embedded runtime</li><li><strong><code>app.css</code></strong>: Scoped CSS styles</li><li><strong><code>app.js</code></strong>: Component logic and runtime code</li></ul><p>The server-driven compiler additionally includes:</p><ul><li>WebSocket client for real-time state synchronization</li><li>Server-managed state evaluation</li><li>Automatic UI updates on state changes</li></ul>`,69)])])}const b=e(o,[["render",i]]);export{u as __pageData,b as default};
